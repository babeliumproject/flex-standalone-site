<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml"
		 xmlns:ns1="com.asfusion.controls.*"
		 creationComplete="init()">

	<mx:Script>
		<![CDATA[
			import events.ExerciseEvent;

			import model.DataModel;

			import mx.collections.ArrayCollection;

			public function init():void
			{
				new ExerciseEvent(ExerciseEvent.GET_EXERCISES).dispatch();
			}

			public function set onExercisesRetrieved(value:Boolean):void
			{
				if (DataModel.getInstance().availableExercisesRetrieved.getItemAt(0))
				{
					var dataProvider:ArrayCollection=DataModel.getInstance().availableExercises;
					exerciseListTable.rowCount=dataProvider.length;
					exerciseListTable.dataProvider=dataProvider;
					DataModel.getInstance().availableExercisesRetrieved.setItemAt(false, 0);
				}
			}
		]]>
	</mx:Script>
	<mx:Binding source="{DataModel.getInstance().availableExercisesRetrieved.getItemAt(0)}"
				destination="this.onExercisesRetrieved"/>

	<mx:DataGrid id="exerciseListTable"
				 width="100%"
				 editable="false"
				 selectable="false"
				 verticalScrollPolicy="off"
				 sortableColumns="false"
				 draggableColumns="false"
				 headerHeight="0"
				 dataProvider="{DataModel.getInstance().availableExercises}">
		<mx:columns>
			<mx:DataGridColumn itemRenderer="modules.main.ExerciseListItem"/>
		</mx:columns>
	</mx:DataGrid>

</mx:HBox>
